
<!DOCTYPE html>
<html>
<head>
<title>Orders</title>

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/buttons.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/mystyle.css" rel="stylesheet" type="text/css" media="all" />
<script type="text/javascript" src="js/JQuery.js" />
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html,charset=utf-8" />
<meta name="keywords" content="Easy Recharge Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->
<!-- js -->
<!--animate-->
<link href="css/animate.css" rel="stylesheet" type="text/css" media="all">
<script src="js/wow.min.js"></script>
	<script>
		 new WOW().init();
	</script>
<!--//end-animate-->

<script type="text/javascript" src="js/jquery.min.js"></script>
<!-- js -->
    <script language="javascript">
        $(document).ready(function () {
            //Initialize tooltips
            $('.nav-tabs > li a[title]').tooltip();

            //Wizard
            $('a[data-toggle="tab"]').on('show.bs.tab', function (e) {

                var $target = $(e.target);

                if ($target.parent().hasClass('disabled')) {
                    return false;
                }
            });

            $(".next-step").click(function (e) {

                var $active = $('.wizard .nav-tabs li.active');
                $active.next().removeClass('disabled');
                nextTab($active);

            });
            $(".prev-step").click(function (e) {

                var $active = $('.wizard .nav-tabs li.active');
                prevTab($active);

            });
        });

        function nextTab(elem) {
            $(elem).next().find('a[data-toggle="tab"]').click();
        }
        function prevTab(elem) {
            $(elem).prev().find('a[data-toggle="tab"]').click();
        }

        function click_scroll(elem) {
            var scroll_offset = $(elem).offset(); //得到pos这个div层的offset，包含两个值，top和left
            $("body,html").animate({
                scrollTop:scroll_offset.top //让body的scrollTop等于pos的top，就实现了滚动
            },750);
        }

        var keywords = "";
        var maxpage = 1;

        function Search() {
            keywords = document.getElementById("keyword-input").value;
            $.ajax({
                type: "GET",
                url: "/Demo/SearchServlet", //URL
                data: {
                    startPage : 1,
                    keyword : keywords
                },
                dataType: "json",
                contentType: "application/x-www-form-urlencoded; charset=utf-8",
                success: function (data) {
                    $("#single-page").empty();
                    document.getElementById("zongye").innerText = Math.ceil(data.count / 10.0);
                    maxpage = data.count;
                    console.log(data);
                    $.each(data.questions,function(i,question) {
                        var item = $("#question-list-item").clone();
                        item.attr("id", "question-list-item" + question.id);
                        item.attr("qid", question.id);
                        item.find(".question-title").find(".question-name").html(question.title);
                        item.find(".question-content").html(question.content);
                        item.show();
                        item.appendTo("#single-page");
                    });

                    setPages();
                },
                error : function (XMLHttpRequest, textStatus, errorThrwon) {
                    alert("error");
                }
            });
            return true;
        }

        function TurnToPage(page) {
            if (parseInt(page) == 0)
                page = 1;
            else if (parseInt(page) > maxpage) {
                page = maxpage;
            }
            $.ajax({
                type: "GET",
                url: "/Demo/SearchServlet", //URL
                data: {
                    startPage : page,
                    keyword : keywords
                },
                dataType: "json",
                contentType: "application/x-www-form-urlencoded; charset=utf-8",
                success: function (data) {
                    document.getElementById("keyword-input").value = keywords;
                    $("#single-page").empty();
                    $.each(data.questions,function(i,question) {
                        var item = $("#question-list-item").clone();
                        item.attr("id", "question-list-item" + question.id);
                        item.attr("qid", question.id);
                        item.find(".question-title").find(".question-name").html(question.title);
                        item.find(".question-content").html(question.content);
                        item.show();
                        item.appendTo("#single-page");
                    });
                },
                error : function (XMLHttpRequest, textStatus, errorThrwon) {
                    alert("error");
                }
            });
        }

        window.onload = function() {
            $("#question-list-item").hide();
        }
    </script>
    <script src="js/jquery.page.js"></script>

</head>
<body>

<div>
		<div class="header">	
			<div class="logo">
			   <h1><a href="index.html"><i><img src="images/cell.png" alt=" " /></i>我们的网页</a></h1>
			</div>
			<div class="top-nav">
				<span class="menu"><img src="images/menu.png" alt=" " /></span>
				<ul class="nav1">
					<li><a href="index.html">主页</a></li>
					<li><a href="community.html">问答社区</a></li>
					<li><a href="#" data-toggle="modal" data-target="#myModal1">登录</a></li>
					<li><a href="#" data-toggle="modal" data-target="#myModal2">注册</a></li>
				</ul>
						<!-- script-for-menu -->
						 <script>
						   $( "span.menu" ).click(function() {
							 $( "ul.nav1" ).slideToggle( 300, function() {
                                 // Animation complete.
							  });
							 });
						</script>
						<!-- /script-for-menu -->
			</div>	
			<!-- start search-->
			<div class="search-box">
				<div id="sb-search" class="sb-search">
					<form id="searchForm">
						<input class="sb-search-input" placeholder="输入搜索关键字..." type="search" name="keyword" id="keyword">
						<input class="sb-search-submit" type="submit" value="">
						<span class="sb-icon-search"> </span>
					</form>
				</div>
			</div>
					<!-- search-scripts -->
					<script src="js/classie.js"></script>
					<script src="js/uisearch.js"></script>
						<script>
							new UISearch( document.getElementById( 'sb-search' ) );
						</script>
				<!-- //search-scripts -->
			
			<div class="clearfix"> </div>
	</div>

</div>	
			
<div class="search-content">
	<div class="container">
    <div class="row" style="margin-top: 10px;">
        <div class="col-md-6" style="width: 60%;">
            <div class="input-group">
                <input type="text" id="keyword-input" class="form-control" placeholder="请输入检索关键字">
                <span class="input-group-btn">
                    <button class="btn btn-primary" onclick="Search()">检索</button>
                </span>
            </div>
        </div>
		<div style="margin-left: 15px; padding-top: 35px; width: 300px;font-size: 15px;font-family: Constantia, 'Lucida Bright', 'DejaVu Serif', Georgia, 'serif';">
			<input type="radio" name="search-type" value="by-Correlation" checked="checked" /> 按相关度搜索
			<input type="radio" name="search-type" value="by-Reply" /> 按回复数检索
		</div>
    </div>
		
		<div id="single-page" class="question-list">
		</div>
		
		<div style="width:50% ;margin: 0 auto">
		  <div style="float: left" class="tcdPageCode"></div>
		  <div style="float: right;margin-top: 20px;font-size: 14px;margin-right:30px;"  id="aaa"><span style="color: blue">当前页面:<span style="color: red;font-size: 12px;" id="dang">1</span>/<span style="font-size: 12px;" id="zongye">100</span></span>
			<input onKeyUp="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')" id="tiao" style="width: 25px;height: 16px;margin-left: 5px;border: 1px solid blue;" value="1">
			<button onclick="jumpto()" style="font-size: 12px;background-color: blue;border-radius: 5px;color: #ffffff;border: 1px solid blue;padding: 1px 2px;margin-left: 5px;cursor: pointer" id="zhuan">跳转</button>
		  </div>
		  <div style="clear: both"></div>
		</div>
		<div id="pages" style="font-size:12px;height:100px;width:80%; line-height:40px; text-align:center;"></div>
	</div>
	</div>
	<div style="width:100%;height:50px;background-color:red;"></div>
			<!-- login -->
			<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				<div class="modal-dialog" role="document">
					<div class="modal-content modal-info">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>						
						</div>
						<div class="modal-body modal-spa">
							<div class="login-grids">
								<div class="login" id="log-in">
									<div class="login-right">
										<form>
											<h3 style="text-align:center;">登录</h3>
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-user-o" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="text" class="phone" placeholder="请输入用户名或邮箱" onfocus="this.placeholder = '' " onblur="this.placeholder = '请输入用户名或邮箱' " required>
												</div>
												<span id="user-valid" aria-hidden="true" class="fa fa-check"
															  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="用户不存在" id="user-not-exist" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
											</div>
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-key" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="password" class="password" placeholder="密码" onfocus="this.placeholder = '' " onblur="this.placeholder = '密码' " required>
												</div>
											</div>
											<div class="single-bottom" style="margin-left:8%;margin-top:1px">
												<input type="checkbox"  id="brand" value="">
												<label for="brand"><span></span>记住我.</label>
											</div>
											<input type="submit" value="登录" >
										</form>
									</div>
									<div class="clearfix"></div>								
								</div>
								<p>登录即代表你同意此网站的 <span>相关政策</span> and <span>隐私协议</span></p>
							</div>
							
						</div>
					</div>
				</div>
			</div>
			<!-- //login -->
			<!-- signup -->
			<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				<div class="modal-dialog" role="document">
					<div class="modal-content modal-info">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>						
						</div>
						<div class="modal-body modal-spa">
							<div class="login-grids">
								<div class="login" id="sign-up">
									<div class="login-right">
										<form>
											<h3 style="text-align:center;">注册</h3>
											<div class="pom-agile" style="width: 100%; display: inline-flex;">
												<span class="fa fa-user-o" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:left;width: 82%">
														<input type="text" class="userName" placeholder="用户名" onfocus="this.placeholder = '' " onblur="this.placeholder = '用户名' " required>
												</div>	
												<span id="name-Correct" aria-hidden="true" class="fa fa-check"
														  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="用户名已存在" id="name-duplicate" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
				<!--                                <span id="nameWrong" class="fa fa-close"
													  style="font-size:25px;margin-left: 5px; color:red;float: right;display: none;"></span>-->
											</div>
											
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-phone" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="text" class="phone" placeholder="手机号码" onfocus="this.placeholder = '' " onblur="this.placeholder = '手机号码' " required>
												</div>
												<span id="phone-valid" aria-hidden="true" class="fa fa-check"
															  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="该号码已存在" id="phone-duplicate" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
											</div>
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-envelope-o" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="text" class="phone" placeholder="邮箱" onfocus="this.placeholder = '' " onblur="this.placeholder = '邮箱' " required>
												</div>
												<span id="email-valid" aria-hidden="true" class="fa fa-check"
															  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="该邮箱已存在" id="email-duplicate" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
											</div>
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-key" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="password" class="password" placeholder="密码" onfocus="this.placeholder = '' " onblur="this.placeholder = '密码' " required>
												</div>
												<span id="password" aria-hidden="true" class="fa fa-check"
															  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="密码格式不正确" id="password-invalid" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
											</div>
											<div class="pom-agile" style="width: 100%;display: inline-flex;">
												<span class="fa fa-key" aria-hidden="true" style="float:left;width: 8%;margin-top: 30px;"></span>
												<div style="float:right;width: 82%">
													<input type="password" class="password-ok" placeholder="确认密码" onfocus="this.placeholder = '' " onblur="this.placeholder = '确认密码' " required>
												</div>
												<span id="password-same" aria-hidden="true" class="fa fa-check"
															  style="display:none;font-size:25px;width:10%;color:#00be00;float: right;margin-top: 27px;padding-left:5px;">
												</span>
												<span title="两次输入的密码不同" id="password-different" aria-hidden="true" class="fa fa-exclamation-triangle"
														  style="display:none;font-size:25px;width:10%;color:red;float: right;margin-top: 27px;padding-left:5px;">
												</span>
											</div>		
											<input type="submit" value="注册" >
										</form>
									</div>
									<div class="clearfix"></div>								
								</div>
								<p>登录即代表你同意此网站的 <span>相关政策</span> and <span>隐私协议</span></p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- //signup -->


<!-- for bootstrap working -->
    <script src="js/bootstrap.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.page.js"></script>
    <script language="javascript">
        var obj = document.getElementById("single-page");  //获取内容层
        var pages = document.getElementById("pages");         //获取翻页层
        var pgindex=1;                                      //当前页
        var allpages;
        var ye;//可以分为几页
        var currentUrl01;
        var arr01;
        function setPages() {
            pgindex=1;                                      //当前页
            allpages = parseInt(document.getElementById("zongye").innerText);
            ye=  Math.ceil(allpages);//可以分为几页
            currentUrl01 = decodeURI(window.location.href);
            arr01 = currentUrl01.split("?");
            $('#zongye').text(ye);
            arr01[1] = "1";
            history.pushState({}, "", arr01[0] + "?1");
            $('#dang').html(arr01[1]);
            $(function () {
                $('#tiao').val(arr01[1]);
                setTimeout(function () {
                    $("#zhuan").click()
                },1);
            });
            $(".tcdPageCode").createPage({
                pageCount:ye,
                current:1,
                backFn:function(p){
                    console.log(p);
                    bian(p);
                    click_scroll("#keyword-input");
                }
            });

        }
        ////////////////////////////////这里面获取数据  p 为当前页数
        $(".tcdPageCode").createPage({
            pageCount:ye,
            current:1,
            backFn:function(p){
                console.log(p);
                bian(p);
            }
        });
        function gotopage(value){
            try{
                value=="-1"?showPage(pgindex-1):showPage(pgindex+1);
            }catch(e){

            }
        }
        function showPage(pageINdex)
        {
            obj.scrollTop=(pageINdex-1)*parseInt(obj.offsetHeight);                                                                  //根据高度，输出指定的页
            pgindex=pageINdex;
            TurnToPage(pageINdex);
        }


        function bian(yeshu){
            var stateObject = {};
            var title = "";
            var newUrl ="" ;
            if(arr01[0]!=parseInt($('#dang').text())){
                newUrl =arr01[0]+"?"+yeshu;
                history.pushState(stateObject,title,newUrl);
            }
            showPage(parseInt($('#dang').text()));
        }
    </script>
<!-- //for bootstrap working -->
</body>

<div id="question-list-item" class="question-list-item">
    <div class="question-title">
        <label class="question-name">问题名称1</label>
        <label class="question-time">提出时间</label>
        <label style="color: black;">来自</label>
        <label class="question-from">悬赏人</label>
        <label class="question-prize">悬赏</label>
        <label class="question-hot">问题热度</label>
    </div>
    <div class="question-content">
        <p>这是一个问题</p>
    </div>
</div>
</html>

<!--https://www.so.com/s?q=sf+json&pn=4&psid=80833e857da08d683b068fb1de567bd0&src=srp_paging&fr=hao_360so_b-->
<!--https://www.so.com/s?q=sf+json&pn=5&psid=dedbcac4ce6cc0d9aa85b4867d0d84ac&src=srp_paging&fr=hao_360so_b-->